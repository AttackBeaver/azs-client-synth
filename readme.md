# ⛽АЗС TwinLab⛽

**АЗС TwinLab** – это интерактивное приложение для анализа, кластеризации и симуляции поведения клиентов автозаправочной сети.  

Ссылка на решение: <https://azs-client-synth-404.streamlit.app/>

## Основные возможности

- Создавать синтетические, но реалистичные данные о клиентах.  
- Сегментировать клиентов по поведенческим портретам.  
- Визуализировать метрики и тепловые карты.  
- Моделировать реакцию целевых групп на новые продуктовые фичи или акции с помощью машинного обучения.  

## Цели проекта

1. Создать инструмент, объединяющий аналитику, визуализацию и моделирование клиентского поведения.
2. Повысить точность маркетинговых решений за счёт симуляции реакций разных групп клиентов.
3. Продемонстрировать применение **Data Science и ML-инструментов** для задач клиентской аналитики.

## Архитектура решения

``` txt
src/
 ├── app.py                     # Основное приложение Streamlit
 ├── generator.py               # Генерация синтетических данных клиентов
 ├── mapper.py                  # Кластеризация и маппинг клиентов на портреты
 ├── visualization.py           # Визуализация профилей и метрик
 ├── simulator_advanced.py      # Симуляция реакций на продуктовые фичи
 ├── portraits.json             # Описание клиентских портретов
 ├── feature_hypotheses.json    # Гипотезы о фичах и нововведениях
 ├── behavior_rules.json        # Поведенческие правила для портретов
data/
 ├── synthetic.csv                       # Сгенерированные клиенты
 ├── synthetic_mapped.csv                # Клиенты с присвоенными портретами
 └── simulated_reactions_advanced.csv    # Результаты симуляции
```

## Основные модули

### 1. `generator.py` — Генератор данных

Создаёт реалистичный набор клиентов АЗС:

- частные и корпоративные пользователи,
- различные типы топлива,
- средний чек, частота заправок, наличие карт,
- реалистичные распределения по регионам и типам оплаты.

Результат сохраняется в `data/synthetic.csv`.

### 2. `mapper.py` — Маппинг клиентов на портреты

Использует:

- `scikit-learn` (`KMeans`, `StandardScaler`),
- заданные в `portraits.json` критерии сегментации.

Определяет портрет клиента и строит распределение по сегментам.

Результат — `data/synthetic_mapped.csv`.

### 3. `visualization.py` — Аналитика и тепловые карты

Позволяет:

- визуализировать распределения по портретам,
- строить **тепловые карты признаков**,
- анализировать средние метрики (средний чек, количество визитов и т.д.)

Все подписи на **русском языке**.
Интегрировано в интерфейс Streamlit.

### 4. `simulator_advanced.py` — Симуляция реакций клиентов

Использует машинное обучение (`scikit-learn`, `numpy`, `pandas`) и вероятностные правила для:

- моделирования реакций на фичи из `feature_hypotheses.json`,
- учёта поведенческих коэффициентов из `behavior_rules.json`,
- вычисления вероятностей отклика по портретам,
- визуализации результатов симуляции (графики, таблицы, метрики).

Выводит:

- общие метрики (охват, конверсия, реакция),
- распределения по сегментам,
- динамику интереса.

В интерфейсе доступно в **боковом меню** — выбор фичи и запуск симуляции.

### 5. `app.py` — Streamlit-интерфейс

Управляет всем процессом:

- Загрузка или генерация данных.
- Кластеризация и маппинг.
- Просмотр портретов и метрик.
- Симуляция реакции на продуктовые фичи.

### Последовательность данных

![Архитектура системы](docs/data.png)

## Используемые технологии

| Компонент         | Технология          |
| ----------------- | ------------------- |
| Интерфейс         | Streamlit           |
| Аналитика данных  | Pandas, NumPy       |
| Машинное обучение | Scikit-learn        |
| Визуализация      | Matplotlib, Seaborn |
| Хранилище данных  | CSV / JSON          |
| Язык              | Python 3.11+        |

## Пример сценария работы

1. **Генерация данных** → 2000 клиентов с разными характеристиками.
2. **Маппинг** → сегментация по 11 портретам (например, «Премиум», «Таксопарк», «Эко»).
3. **Визуализация** → анализ тепловых карт и распределений.
4. **Симуляция фичи** → запуск, например, акции «Бесплатный кофе за заправку».
5. **Результаты** → рост активности у сегментов «Постоянный клиент» и «Таксопарк».

## ⚡Запуск проекта⚡

1. Клонировать репозиторий или скачать проект.
2. Создать и активировать виртуальное окружение:

   ```bash
   python -m venv venv
   venv\Scripts\activate
   ```

3. Установить зависимости:

   ```bash
   pip install -r requirements.txt
   ```

4. Запустить Streamlit-приложение:

   ```bash
   streamlit run src/app.py
   ```

После запуска в терминале появится ссылка, например:

``` txt
Local URL: http://localhost:8501
```

Открой её в браузере.

## Команда проекта

Проект подготовлен в рамках хакатона **«Моя профессия – IT 2025»**.

Команда-разработчик: **«404: Имя не найдено»**
